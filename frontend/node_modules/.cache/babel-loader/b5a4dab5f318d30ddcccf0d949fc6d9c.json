{"ast":null,"code":"import { DOCUMENT_MODE } from '../common/html.js';\nfunction createTextNode(value) {\n  return {\n    nodeName: '#text',\n    value,\n    parentNode: null\n  };\n}\nexport const defaultTreeAdapter = {\n  //Node construction\n  createDocument() {\n    return {\n      nodeName: '#document',\n      mode: DOCUMENT_MODE.NO_QUIRKS,\n      childNodes: []\n    };\n  },\n  createDocumentFragment() {\n    return {\n      nodeName: '#document-fragment',\n      childNodes: []\n    };\n  },\n  createElement(tagName, namespaceURI, attrs) {\n    return {\n      nodeName: tagName,\n      tagName,\n      attrs,\n      namespaceURI,\n      childNodes: [],\n      parentNode: null\n    };\n  },\n  createCommentNode(data) {\n    return {\n      nodeName: '#comment',\n      data,\n      parentNode: null\n    };\n  },\n  //Tree mutation\n  appendChild(parentNode, newNode) {\n    parentNode.childNodes.push(newNode);\n    newNode.parentNode = parentNode;\n  },\n  insertBefore(parentNode, newNode, referenceNode) {\n    const insertionIdx = parentNode.childNodes.indexOf(referenceNode);\n    parentNode.childNodes.splice(insertionIdx, 0, newNode);\n    newNode.parentNode = parentNode;\n  },\n  setTemplateContent(templateElement, contentElement) {\n    templateElement.content = contentElement;\n  },\n  getTemplateContent(templateElement) {\n    return templateElement.content;\n  },\n  setDocumentType(document, name, publicId, systemId) {\n    const doctypeNode = document.childNodes.find(node => node.nodeName === '#documentType');\n    if (doctypeNode) {\n      doctypeNode.name = name;\n      doctypeNode.publicId = publicId;\n      doctypeNode.systemId = systemId;\n    } else {\n      const node = {\n        nodeName: '#documentType',\n        name,\n        publicId,\n        systemId,\n        parentNode: null\n      };\n      defaultTreeAdapter.appendChild(document, node);\n    }\n  },\n  setDocumentMode(document, mode) {\n    document.mode = mode;\n  },\n  getDocumentMode(document) {\n    return document.mode;\n  },\n  detachNode(node) {\n    if (node.parentNode) {\n      const idx = node.parentNode.childNodes.indexOf(node);\n      node.parentNode.childNodes.splice(idx, 1);\n      node.parentNode = null;\n    }\n  },\n  insertText(parentNode, text) {\n    if (parentNode.childNodes.length > 0) {\n      const prevNode = parentNode.childNodes[parentNode.childNodes.length - 1];\n      if (defaultTreeAdapter.isTextNode(prevNode)) {\n        prevNode.value += text;\n        return;\n      }\n    }\n    defaultTreeAdapter.appendChild(parentNode, createTextNode(text));\n  },\n  insertTextBefore(parentNode, text, referenceNode) {\n    const prevNode = parentNode.childNodes[parentNode.childNodes.indexOf(referenceNode) - 1];\n    if (prevNode && defaultTreeAdapter.isTextNode(prevNode)) {\n      prevNode.value += text;\n    } else {\n      defaultTreeAdapter.insertBefore(parentNode, createTextNode(text), referenceNode);\n    }\n  },\n  adoptAttributes(recipient, attrs) {\n    const recipientAttrsMap = new Set(recipient.attrs.map(attr => attr.name));\n    for (let j = 0; j < attrs.length; j++) {\n      if (!recipientAttrsMap.has(attrs[j].name)) {\n        recipient.attrs.push(attrs[j]);\n      }\n    }\n  },\n  //Tree traversing\n  getFirstChild(node) {\n    return node.childNodes[0];\n  },\n  getChildNodes(node) {\n    return node.childNodes;\n  },\n  getParentNode(node) {\n    return node.parentNode;\n  },\n  getAttrList(element) {\n    return element.attrs;\n  },\n  //Node data\n  getTagName(element) {\n    return element.tagName;\n  },\n  getNamespaceURI(element) {\n    return element.namespaceURI;\n  },\n  getTextNodeContent(textNode) {\n    return textNode.value;\n  },\n  getCommentNodeContent(commentNode) {\n    return commentNode.data;\n  },\n  getDocumentTypeNodeName(doctypeNode) {\n    return doctypeNode.name;\n  },\n  getDocumentTypeNodePublicId(doctypeNode) {\n    return doctypeNode.publicId;\n  },\n  getDocumentTypeNodeSystemId(doctypeNode) {\n    return doctypeNode.systemId;\n  },\n  //Node types\n  isTextNode(node) {\n    return node.nodeName === '#text';\n  },\n  isCommentNode(node) {\n    return node.nodeName === '#comment';\n  },\n  isDocumentTypeNode(node) {\n    return node.nodeName === '#documentType';\n  },\n  isElementNode(node) {\n    return Object.prototype.hasOwnProperty.call(node, 'tagName');\n  },\n  // Source code location\n  setNodeSourceCodeLocation(node, location) {\n    node.sourceCodeLocation = location;\n  },\n  getNodeSourceCodeLocation(node) {\n    return node.sourceCodeLocation;\n  },\n  updateNodeSourceCodeLocation(node, endLocation) {\n    node.sourceCodeLocation = {\n      ...node.sourceCodeLocation,\n      ...endLocation\n    };\n  }\n};","map":{"version":3,"names":["DOCUMENT_MODE","createTextNode","value","nodeName","parentNode","defaultTreeAdapter","createDocument","mode","NO_QUIRKS","childNodes","createDocumentFragment","createElement","tagName","namespaceURI","attrs","createCommentNode","data","appendChild","newNode","push","insertBefore","referenceNode","insertionIdx","indexOf","splice","setTemplateContent","templateElement","contentElement","content","getTemplateContent","setDocumentType","document","name","publicId","systemId","doctypeNode","find","node","setDocumentMode","getDocumentMode","detachNode","idx","insertText","text","length","prevNode","isTextNode","insertTextBefore","adoptAttributes","recipient","recipientAttrsMap","Set","map","attr","j","has","getFirstChild","getChildNodes","getParentNode","getAttrList","element","getTagName","getNamespaceURI","getTextNodeContent","textNode","getCommentNodeContent","commentNode","getDocumentTypeNodeName","getDocumentTypeNodePublicId","getDocumentTypeNodeSystemId","isCommentNode","isDocumentTypeNode","isElementNode","Object","prototype","hasOwnProperty","call","setNodeSourceCodeLocation","location","sourceCodeLocation","getNodeSourceCodeLocation","updateNodeSourceCodeLocation","endLocation"],"sources":["D:/Work/V-Book/project/V-Book-Project/frontend/node_modules/parse5/dist/tree-adapters/default.js"],"sourcesContent":["import { DOCUMENT_MODE } from '../common/html.js';\r\nfunction createTextNode(value) {\r\n    return {\r\n        nodeName: '#text',\r\n        value,\r\n        parentNode: null,\r\n    };\r\n}\r\nexport const defaultTreeAdapter = {\r\n    //Node construction\r\n    createDocument() {\r\n        return {\r\n            nodeName: '#document',\r\n            mode: DOCUMENT_MODE.NO_QUIRKS,\r\n            childNodes: [],\r\n        };\r\n    },\r\n    createDocumentFragment() {\r\n        return {\r\n            nodeName: '#document-fragment',\r\n            childNodes: [],\r\n        };\r\n    },\r\n    createElement(tagName, namespaceURI, attrs) {\r\n        return {\r\n            nodeName: tagName,\r\n            tagName,\r\n            attrs,\r\n            namespaceURI,\r\n            childNodes: [],\r\n            parentNode: null,\r\n        };\r\n    },\r\n    createCommentNode(data) {\r\n        return {\r\n            nodeName: '#comment',\r\n            data,\r\n            parentNode: null,\r\n        };\r\n    },\r\n    //Tree mutation\r\n    appendChild(parentNode, newNode) {\r\n        parentNode.childNodes.push(newNode);\r\n        newNode.parentNode = parentNode;\r\n    },\r\n    insertBefore(parentNode, newNode, referenceNode) {\r\n        const insertionIdx = parentNode.childNodes.indexOf(referenceNode);\r\n        parentNode.childNodes.splice(insertionIdx, 0, newNode);\r\n        newNode.parentNode = parentNode;\r\n    },\r\n    setTemplateContent(templateElement, contentElement) {\r\n        templateElement.content = contentElement;\r\n    },\r\n    getTemplateContent(templateElement) {\r\n        return templateElement.content;\r\n    },\r\n    setDocumentType(document, name, publicId, systemId) {\r\n        const doctypeNode = document.childNodes.find((node) => node.nodeName === '#documentType');\r\n        if (doctypeNode) {\r\n            doctypeNode.name = name;\r\n            doctypeNode.publicId = publicId;\r\n            doctypeNode.systemId = systemId;\r\n        }\r\n        else {\r\n            const node = {\r\n                nodeName: '#documentType',\r\n                name,\r\n                publicId,\r\n                systemId,\r\n                parentNode: null,\r\n            };\r\n            defaultTreeAdapter.appendChild(document, node);\r\n        }\r\n    },\r\n    setDocumentMode(document, mode) {\r\n        document.mode = mode;\r\n    },\r\n    getDocumentMode(document) {\r\n        return document.mode;\r\n    },\r\n    detachNode(node) {\r\n        if (node.parentNode) {\r\n            const idx = node.parentNode.childNodes.indexOf(node);\r\n            node.parentNode.childNodes.splice(idx, 1);\r\n            node.parentNode = null;\r\n        }\r\n    },\r\n    insertText(parentNode, text) {\r\n        if (parentNode.childNodes.length > 0) {\r\n            const prevNode = parentNode.childNodes[parentNode.childNodes.length - 1];\r\n            if (defaultTreeAdapter.isTextNode(prevNode)) {\r\n                prevNode.value += text;\r\n                return;\r\n            }\r\n        }\r\n        defaultTreeAdapter.appendChild(parentNode, createTextNode(text));\r\n    },\r\n    insertTextBefore(parentNode, text, referenceNode) {\r\n        const prevNode = parentNode.childNodes[parentNode.childNodes.indexOf(referenceNode) - 1];\r\n        if (prevNode && defaultTreeAdapter.isTextNode(prevNode)) {\r\n            prevNode.value += text;\r\n        }\r\n        else {\r\n            defaultTreeAdapter.insertBefore(parentNode, createTextNode(text), referenceNode);\r\n        }\r\n    },\r\n    adoptAttributes(recipient, attrs) {\r\n        const recipientAttrsMap = new Set(recipient.attrs.map((attr) => attr.name));\r\n        for (let j = 0; j < attrs.length; j++) {\r\n            if (!recipientAttrsMap.has(attrs[j].name)) {\r\n                recipient.attrs.push(attrs[j]);\r\n            }\r\n        }\r\n    },\r\n    //Tree traversing\r\n    getFirstChild(node) {\r\n        return node.childNodes[0];\r\n    },\r\n    getChildNodes(node) {\r\n        return node.childNodes;\r\n    },\r\n    getParentNode(node) {\r\n        return node.parentNode;\r\n    },\r\n    getAttrList(element) {\r\n        return element.attrs;\r\n    },\r\n    //Node data\r\n    getTagName(element) {\r\n        return element.tagName;\r\n    },\r\n    getNamespaceURI(element) {\r\n        return element.namespaceURI;\r\n    },\r\n    getTextNodeContent(textNode) {\r\n        return textNode.value;\r\n    },\r\n    getCommentNodeContent(commentNode) {\r\n        return commentNode.data;\r\n    },\r\n    getDocumentTypeNodeName(doctypeNode) {\r\n        return doctypeNode.name;\r\n    },\r\n    getDocumentTypeNodePublicId(doctypeNode) {\r\n        return doctypeNode.publicId;\r\n    },\r\n    getDocumentTypeNodeSystemId(doctypeNode) {\r\n        return doctypeNode.systemId;\r\n    },\r\n    //Node types\r\n    isTextNode(node) {\r\n        return node.nodeName === '#text';\r\n    },\r\n    isCommentNode(node) {\r\n        return node.nodeName === '#comment';\r\n    },\r\n    isDocumentTypeNode(node) {\r\n        return node.nodeName === '#documentType';\r\n    },\r\n    isElementNode(node) {\r\n        return Object.prototype.hasOwnProperty.call(node, 'tagName');\r\n    },\r\n    // Source code location\r\n    setNodeSourceCodeLocation(node, location) {\r\n        node.sourceCodeLocation = location;\r\n    },\r\n    getNodeSourceCodeLocation(node) {\r\n        return node.sourceCodeLocation;\r\n    },\r\n    updateNodeSourceCodeLocation(node, endLocation) {\r\n        node.sourceCodeLocation = { ...node.sourceCodeLocation, ...endLocation };\r\n    },\r\n};\r\n//# sourceMappingURL=default.js.map"],"mappings":"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"},"metadata":{},"sourceType":"module"}