{"ast":null,"code":"import { TAG_ID as $, NS, isNumberedHeader } from '../common/html.js';\n//Element utils\nconst IMPLICIT_END_TAG_REQUIRED = new Set([$.DD, $.DT, $.LI, $.OPTGROUP, $.OPTION, $.P, $.RB, $.RP, $.RT, $.RTC]);\nconst IMPLICIT_END_TAG_REQUIRED_THOROUGHLY = new Set([...IMPLICIT_END_TAG_REQUIRED, $.CAPTION, $.COLGROUP, $.TBODY, $.TD, $.TFOOT, $.TH, $.THEAD, $.TR]);\nconst SCOPING_ELEMENT_NS = new Map([[$.APPLET, NS.HTML], [$.CAPTION, NS.HTML], [$.HTML, NS.HTML], [$.MARQUEE, NS.HTML], [$.OBJECT, NS.HTML], [$.TABLE, NS.HTML], [$.TD, NS.HTML], [$.TEMPLATE, NS.HTML], [$.TH, NS.HTML], [$.ANNOTATION_XML, NS.MATHML], [$.MI, NS.MATHML], [$.MN, NS.MATHML], [$.MO, NS.MATHML], [$.MS, NS.MATHML], [$.MTEXT, NS.MATHML], [$.DESC, NS.SVG], [$.FOREIGN_OBJECT, NS.SVG], [$.TITLE, NS.SVG]]);\nconst NAMED_HEADERS = [$.H1, $.H2, $.H3, $.H4, $.H5, $.H6];\nconst TABLE_ROW_CONTEXT = [$.TR, $.TEMPLATE, $.HTML];\nconst TABLE_BODY_CONTEXT = [$.TBODY, $.TFOOT, $.THEAD, $.TEMPLATE, $.HTML];\nconst TABLE_CONTEXT = [$.TABLE, $.TEMPLATE, $.HTML];\nconst TABLE_CELLS = [$.TD, $.TH];\n//Stack of open elements\nexport class OpenElementStack {\n  get currentTmplContentOrNode() {\n    return this._isInTemplate() ? this.treeAdapter.getTemplateContent(this.current) : this.current;\n  }\n  constructor(document, treeAdapter, handler) {\n    this.treeAdapter = treeAdapter;\n    this.handler = handler;\n    this.items = [];\n    this.tagIDs = [];\n    this.stackTop = -1;\n    this.tmplCount = 0;\n    this.currentTagId = $.UNKNOWN;\n    this.current = document;\n  }\n  //Index of element\n  _indexOf(element) {\n    return this.items.lastIndexOf(element, this.stackTop);\n  }\n  //Update current element\n  _isInTemplate() {\n    return this.currentTagId === $.TEMPLATE && this.treeAdapter.getNamespaceURI(this.current) === NS.HTML;\n  }\n  _updateCurrentElement() {\n    this.current = this.items[this.stackTop];\n    this.currentTagId = this.tagIDs[this.stackTop];\n  }\n  //Mutations\n  push(element, tagID) {\n    this.stackTop++;\n    this.items[this.stackTop] = element;\n    this.current = element;\n    this.tagIDs[this.stackTop] = tagID;\n    this.currentTagId = tagID;\n    if (this._isInTemplate()) {\n      this.tmplCount++;\n    }\n    this.handler.onItemPush(element, tagID, true);\n  }\n  pop() {\n    const popped = this.current;\n    if (this.tmplCount > 0 && this._isInTemplate()) {\n      this.tmplCount--;\n    }\n    this.stackTop--;\n    this._updateCurrentElement();\n    this.handler.onItemPop(popped, true);\n  }\n  replace(oldElement, newElement) {\n    const idx = this._indexOf(oldElement);\n    this.items[idx] = newElement;\n    if (idx === this.stackTop) {\n      this.current = newElement;\n    }\n  }\n  insertAfter(referenceElement, newElement, newElementID) {\n    const insertionIdx = this._indexOf(referenceElement) + 1;\n    this.items.splice(insertionIdx, 0, newElement);\n    this.tagIDs.splice(insertionIdx, 0, newElementID);\n    this.stackTop++;\n    if (insertionIdx === this.stackTop) {\n      this._updateCurrentElement();\n    }\n    this.handler.onItemPush(this.current, this.currentTagId, insertionIdx === this.stackTop);\n  }\n  popUntilTagNamePopped(tagName) {\n    let targetIdx = this.stackTop + 1;\n    do {\n      targetIdx = this.tagIDs.lastIndexOf(tagName, targetIdx - 1);\n    } while (targetIdx > 0 && this.treeAdapter.getNamespaceURI(this.items[targetIdx]) !== NS.HTML);\n    this.shortenToLength(targetIdx < 0 ? 0 : targetIdx);\n  }\n  shortenToLength(idx) {\n    while (this.stackTop >= idx) {\n      const popped = this.current;\n      if (this.tmplCount > 0 && this._isInTemplate()) {\n        this.tmplCount -= 1;\n      }\n      this.stackTop--;\n      this._updateCurrentElement();\n      this.handler.onItemPop(popped, this.stackTop < idx);\n    }\n  }\n  popUntilElementPopped(element) {\n    const idx = this._indexOf(element);\n    this.shortenToLength(idx < 0 ? 0 : idx);\n  }\n  popUntilPopped(tagNames, targetNS) {\n    const idx = this._indexOfTagNames(tagNames, targetNS);\n    this.shortenToLength(idx < 0 ? 0 : idx);\n  }\n  popUntilNumberedHeaderPopped() {\n    this.popUntilPopped(NAMED_HEADERS, NS.HTML);\n  }\n  popUntilTableCellPopped() {\n    this.popUntilPopped(TABLE_CELLS, NS.HTML);\n  }\n  popAllUpToHtmlElement() {\n    //NOTE: here we assume that the root <html> element is always first in the open element stack, so\n    //we perform this fast stack clean up.\n    this.tmplCount = 0;\n    this.shortenToLength(1);\n  }\n  _indexOfTagNames(tagNames, namespace) {\n    for (let i = this.stackTop; i >= 0; i--) {\n      if (tagNames.includes(this.tagIDs[i]) && this.treeAdapter.getNamespaceURI(this.items[i]) === namespace) {\n        return i;\n      }\n    }\n    return -1;\n  }\n  clearBackTo(tagNames, targetNS) {\n    const idx = this._indexOfTagNames(tagNames, targetNS);\n    this.shortenToLength(idx + 1);\n  }\n  clearBackToTableContext() {\n    this.clearBackTo(TABLE_CONTEXT, NS.HTML);\n  }\n  clearBackToTableBodyContext() {\n    this.clearBackTo(TABLE_BODY_CONTEXT, NS.HTML);\n  }\n  clearBackToTableRowContext() {\n    this.clearBackTo(TABLE_ROW_CONTEXT, NS.HTML);\n  }\n  remove(element) {\n    const idx = this._indexOf(element);\n    if (idx >= 0) {\n      if (idx === this.stackTop) {\n        this.pop();\n      } else {\n        this.items.splice(idx, 1);\n        this.tagIDs.splice(idx, 1);\n        this.stackTop--;\n        this._updateCurrentElement();\n        this.handler.onItemPop(element, false);\n      }\n    }\n  }\n  //Search\n  tryPeekProperlyNestedBodyElement() {\n    //Properly nested <body> element (should be second element in stack).\n    return this.stackTop >= 1 && this.tagIDs[1] === $.BODY ? this.items[1] : null;\n  }\n  contains(element) {\n    return this._indexOf(element) > -1;\n  }\n  getCommonAncestor(element) {\n    const elementIdx = this._indexOf(element) - 1;\n    return elementIdx >= 0 ? this.items[elementIdx] : null;\n  }\n  isRootHtmlElementCurrent() {\n    return this.stackTop === 0 && this.tagIDs[0] === $.HTML;\n  }\n  //Element in scope\n  hasInScope(tagName) {\n    for (let i = this.stackTop; i >= 0; i--) {\n      const tn = this.tagIDs[i];\n      const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n      if (tn === tagName && ns === NS.HTML) {\n        return true;\n      }\n      if (SCOPING_ELEMENT_NS.get(tn) === ns) {\n        return false;\n      }\n    }\n    return true;\n  }\n  hasNumberedHeaderInScope() {\n    for (let i = this.stackTop; i >= 0; i--) {\n      const tn = this.tagIDs[i];\n      const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n      if (isNumberedHeader(tn) && ns === NS.HTML) {\n        return true;\n      }\n      if (SCOPING_ELEMENT_NS.get(tn) === ns) {\n        return false;\n      }\n    }\n    return true;\n  }\n  hasInListItemScope(tagName) {\n    for (let i = this.stackTop; i >= 0; i--) {\n      const tn = this.tagIDs[i];\n      const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n      if (tn === tagName && ns === NS.HTML) {\n        return true;\n      }\n      if ((tn === $.UL || tn === $.OL) && ns === NS.HTML || SCOPING_ELEMENT_NS.get(tn) === ns) {\n        return false;\n      }\n    }\n    return true;\n  }\n  hasInButtonScope(tagName) {\n    for (let i = this.stackTop; i >= 0; i--) {\n      const tn = this.tagIDs[i];\n      const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n      if (tn === tagName && ns === NS.HTML) {\n        return true;\n      }\n      if (tn === $.BUTTON && ns === NS.HTML || SCOPING_ELEMENT_NS.get(tn) === ns) {\n        return false;\n      }\n    }\n    return true;\n  }\n  hasInTableScope(tagName) {\n    for (let i = this.stackTop; i >= 0; i--) {\n      const tn = this.tagIDs[i];\n      const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n      if (ns !== NS.HTML) {\n        continue;\n      }\n      if (tn === tagName) {\n        return true;\n      }\n      if (tn === $.TABLE || tn === $.TEMPLATE || tn === $.HTML) {\n        return false;\n      }\n    }\n    return true;\n  }\n  hasTableBodyContextInTableScope() {\n    for (let i = this.stackTop; i >= 0; i--) {\n      const tn = this.tagIDs[i];\n      const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n      if (ns !== NS.HTML) {\n        continue;\n      }\n      if (tn === $.TBODY || tn === $.THEAD || tn === $.TFOOT) {\n        return true;\n      }\n      if (tn === $.TABLE || tn === $.HTML) {\n        return false;\n      }\n    }\n    return true;\n  }\n  hasInSelectScope(tagName) {\n    for (let i = this.stackTop; i >= 0; i--) {\n      const tn = this.tagIDs[i];\n      const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n      if (ns !== NS.HTML) {\n        continue;\n      }\n      if (tn === tagName) {\n        return true;\n      }\n      if (tn !== $.OPTION && tn !== $.OPTGROUP) {\n        return false;\n      }\n    }\n    return true;\n  }\n  //Implied end tags\n  generateImpliedEndTags() {\n    while (IMPLICIT_END_TAG_REQUIRED.has(this.currentTagId)) {\n      this.pop();\n    }\n  }\n  generateImpliedEndTagsThoroughly() {\n    while (IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId)) {\n      this.pop();\n    }\n  }\n  generateImpliedEndTagsWithExclusion(exclusionId) {\n    while (this.currentTagId !== exclusionId && IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId)) {\n      this.pop();\n    }\n  }\n}","map":{"version":3,"names":["TAG_ID","$","NS","isNumberedHeader","IMPLICIT_END_TAG_REQUIRED","Set","DD","DT","LI","OPTGROUP","OPTION","P","RB","RP","RT","RTC","IMPLICIT_END_TAG_REQUIRED_THOROUGHLY","CAPTION","COLGROUP","TBODY","TD","TFOOT","TH","THEAD","TR","SCOPING_ELEMENT_NS","Map","APPLET","HTML","MARQUEE","OBJECT","TABLE","TEMPLATE","ANNOTATION_XML","MATHML","MI","MN","MO","MS","MTEXT","DESC","SVG","FOREIGN_OBJECT","TITLE","NAMED_HEADERS","H1","H2","H3","H4","H5","H6","TABLE_ROW_CONTEXT","TABLE_BODY_CONTEXT","TABLE_CONTEXT","TABLE_CELLS","OpenElementStack","currentTmplContentOrNode","_isInTemplate","treeAdapter","getTemplateContent","current","constructor","document","handler","items","tagIDs","stackTop","tmplCount","currentTagId","UNKNOWN","_indexOf","element","lastIndexOf","getNamespaceURI","_updateCurrentElement","push","tagID","onItemPush","pop","popped","onItemPop","replace","oldElement","newElement","idx","insertAfter","referenceElement","newElementID","insertionIdx","splice","popUntilTagNamePopped","tagName","targetIdx","shortenToLength","popUntilElementPopped","popUntilPopped","tagNames","targetNS","_indexOfTagNames","popUntilNumberedHeaderPopped","popUntilTableCellPopped","popAllUpToHtmlElement","namespace","i","includes","clearBackTo","clearBackToTableContext","clearBackToTableBodyContext","clearBackToTableRowContext","remove","tryPeekProperlyNestedBodyElement","BODY","contains","getCommonAncestor","elementIdx","isRootHtmlElementCurrent","hasInScope","tn","ns","get","hasNumberedHeaderInScope","hasInListItemScope","UL","OL","hasInButtonScope","BUTTON","hasInTableScope","hasTableBodyContextInTableScope","hasInSelectScope","generateImpliedEndTags","has","generateImpliedEndTagsThoroughly","generateImpliedEndTagsWithExclusion","exclusionId"],"sources":["C:/React-Project/V-Book/frontend/node_modules/parse5/dist/parser/open-element-stack.js"],"sourcesContent":["import { TAG_ID as $, NS, isNumberedHeader } from '../common/html.js';\n//Element utils\nconst IMPLICIT_END_TAG_REQUIRED = new Set([$.DD, $.DT, $.LI, $.OPTGROUP, $.OPTION, $.P, $.RB, $.RP, $.RT, $.RTC]);\nconst IMPLICIT_END_TAG_REQUIRED_THOROUGHLY = new Set([\n    ...IMPLICIT_END_TAG_REQUIRED,\n    $.CAPTION,\n    $.COLGROUP,\n    $.TBODY,\n    $.TD,\n    $.TFOOT,\n    $.TH,\n    $.THEAD,\n    $.TR,\n]);\nconst SCOPING_ELEMENT_NS = new Map([\n    [$.APPLET, NS.HTML],\n    [$.CAPTION, NS.HTML],\n    [$.HTML, NS.HTML],\n    [$.MARQUEE, NS.HTML],\n    [$.OBJECT, NS.HTML],\n    [$.TABLE, NS.HTML],\n    [$.TD, NS.HTML],\n    [$.TEMPLATE, NS.HTML],\n    [$.TH, NS.HTML],\n    [$.ANNOTATION_XML, NS.MATHML],\n    [$.MI, NS.MATHML],\n    [$.MN, NS.MATHML],\n    [$.MO, NS.MATHML],\n    [$.MS, NS.MATHML],\n    [$.MTEXT, NS.MATHML],\n    [$.DESC, NS.SVG],\n    [$.FOREIGN_OBJECT, NS.SVG],\n    [$.TITLE, NS.SVG],\n]);\nconst NAMED_HEADERS = [$.H1, $.H2, $.H3, $.H4, $.H5, $.H6];\nconst TABLE_ROW_CONTEXT = [$.TR, $.TEMPLATE, $.HTML];\nconst TABLE_BODY_CONTEXT = [$.TBODY, $.TFOOT, $.THEAD, $.TEMPLATE, $.HTML];\nconst TABLE_CONTEXT = [$.TABLE, $.TEMPLATE, $.HTML];\nconst TABLE_CELLS = [$.TD, $.TH];\n//Stack of open elements\nexport class OpenElementStack {\n    get currentTmplContentOrNode() {\n        return this._isInTemplate() ? this.treeAdapter.getTemplateContent(this.current) : this.current;\n    }\n    constructor(document, treeAdapter, handler) {\n        this.treeAdapter = treeAdapter;\n        this.handler = handler;\n        this.items = [];\n        this.tagIDs = [];\n        this.stackTop = -1;\n        this.tmplCount = 0;\n        this.currentTagId = $.UNKNOWN;\n        this.current = document;\n    }\n    //Index of element\n    _indexOf(element) {\n        return this.items.lastIndexOf(element, this.stackTop);\n    }\n    //Update current element\n    _isInTemplate() {\n        return this.currentTagId === $.TEMPLATE && this.treeAdapter.getNamespaceURI(this.current) === NS.HTML;\n    }\n    _updateCurrentElement() {\n        this.current = this.items[this.stackTop];\n        this.currentTagId = this.tagIDs[this.stackTop];\n    }\n    //Mutations\n    push(element, tagID) {\n        this.stackTop++;\n        this.items[this.stackTop] = element;\n        this.current = element;\n        this.tagIDs[this.stackTop] = tagID;\n        this.currentTagId = tagID;\n        if (this._isInTemplate()) {\n            this.tmplCount++;\n        }\n        this.handler.onItemPush(element, tagID, true);\n    }\n    pop() {\n        const popped = this.current;\n        if (this.tmplCount > 0 && this._isInTemplate()) {\n            this.tmplCount--;\n        }\n        this.stackTop--;\n        this._updateCurrentElement();\n        this.handler.onItemPop(popped, true);\n    }\n    replace(oldElement, newElement) {\n        const idx = this._indexOf(oldElement);\n        this.items[idx] = newElement;\n        if (idx === this.stackTop) {\n            this.current = newElement;\n        }\n    }\n    insertAfter(referenceElement, newElement, newElementID) {\n        const insertionIdx = this._indexOf(referenceElement) + 1;\n        this.items.splice(insertionIdx, 0, newElement);\n        this.tagIDs.splice(insertionIdx, 0, newElementID);\n        this.stackTop++;\n        if (insertionIdx === this.stackTop) {\n            this._updateCurrentElement();\n        }\n        this.handler.onItemPush(this.current, this.currentTagId, insertionIdx === this.stackTop);\n    }\n    popUntilTagNamePopped(tagName) {\n        let targetIdx = this.stackTop + 1;\n        do {\n            targetIdx = this.tagIDs.lastIndexOf(tagName, targetIdx - 1);\n        } while (targetIdx > 0 && this.treeAdapter.getNamespaceURI(this.items[targetIdx]) !== NS.HTML);\n        this.shortenToLength(targetIdx < 0 ? 0 : targetIdx);\n    }\n    shortenToLength(idx) {\n        while (this.stackTop >= idx) {\n            const popped = this.current;\n            if (this.tmplCount > 0 && this._isInTemplate()) {\n                this.tmplCount -= 1;\n            }\n            this.stackTop--;\n            this._updateCurrentElement();\n            this.handler.onItemPop(popped, this.stackTop < idx);\n        }\n    }\n    popUntilElementPopped(element) {\n        const idx = this._indexOf(element);\n        this.shortenToLength(idx < 0 ? 0 : idx);\n    }\n    popUntilPopped(tagNames, targetNS) {\n        const idx = this._indexOfTagNames(tagNames, targetNS);\n        this.shortenToLength(idx < 0 ? 0 : idx);\n    }\n    popUntilNumberedHeaderPopped() {\n        this.popUntilPopped(NAMED_HEADERS, NS.HTML);\n    }\n    popUntilTableCellPopped() {\n        this.popUntilPopped(TABLE_CELLS, NS.HTML);\n    }\n    popAllUpToHtmlElement() {\n        //NOTE: here we assume that the root <html> element is always first in the open element stack, so\n        //we perform this fast stack clean up.\n        this.tmplCount = 0;\n        this.shortenToLength(1);\n    }\n    _indexOfTagNames(tagNames, namespace) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            if (tagNames.includes(this.tagIDs[i]) && this.treeAdapter.getNamespaceURI(this.items[i]) === namespace) {\n                return i;\n            }\n        }\n        return -1;\n    }\n    clearBackTo(tagNames, targetNS) {\n        const idx = this._indexOfTagNames(tagNames, targetNS);\n        this.shortenToLength(idx + 1);\n    }\n    clearBackToTableContext() {\n        this.clearBackTo(TABLE_CONTEXT, NS.HTML);\n    }\n    clearBackToTableBodyContext() {\n        this.clearBackTo(TABLE_BODY_CONTEXT, NS.HTML);\n    }\n    clearBackToTableRowContext() {\n        this.clearBackTo(TABLE_ROW_CONTEXT, NS.HTML);\n    }\n    remove(element) {\n        const idx = this._indexOf(element);\n        if (idx >= 0) {\n            if (idx === this.stackTop) {\n                this.pop();\n            }\n            else {\n                this.items.splice(idx, 1);\n                this.tagIDs.splice(idx, 1);\n                this.stackTop--;\n                this._updateCurrentElement();\n                this.handler.onItemPop(element, false);\n            }\n        }\n    }\n    //Search\n    tryPeekProperlyNestedBodyElement() {\n        //Properly nested <body> element (should be second element in stack).\n        return this.stackTop >= 1 && this.tagIDs[1] === $.BODY ? this.items[1] : null;\n    }\n    contains(element) {\n        return this._indexOf(element) > -1;\n    }\n    getCommonAncestor(element) {\n        const elementIdx = this._indexOf(element) - 1;\n        return elementIdx >= 0 ? this.items[elementIdx] : null;\n    }\n    isRootHtmlElementCurrent() {\n        return this.stackTop === 0 && this.tagIDs[0] === $.HTML;\n    }\n    //Element in scope\n    hasInScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.tagIDs[i];\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n            if (tn === tagName && ns === NS.HTML) {\n                return true;\n            }\n            if (SCOPING_ELEMENT_NS.get(tn) === ns) {\n                return false;\n            }\n        }\n        return true;\n    }\n    hasNumberedHeaderInScope() {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.tagIDs[i];\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n            if (isNumberedHeader(tn) && ns === NS.HTML) {\n                return true;\n            }\n            if (SCOPING_ELEMENT_NS.get(tn) === ns) {\n                return false;\n            }\n        }\n        return true;\n    }\n    hasInListItemScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.tagIDs[i];\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n            if (tn === tagName && ns === NS.HTML) {\n                return true;\n            }\n            if (((tn === $.UL || tn === $.OL) && ns === NS.HTML) || SCOPING_ELEMENT_NS.get(tn) === ns) {\n                return false;\n            }\n        }\n        return true;\n    }\n    hasInButtonScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.tagIDs[i];\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n            if (tn === tagName && ns === NS.HTML) {\n                return true;\n            }\n            if ((tn === $.BUTTON && ns === NS.HTML) || SCOPING_ELEMENT_NS.get(tn) === ns) {\n                return false;\n            }\n        }\n        return true;\n    }\n    hasInTableScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.tagIDs[i];\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n            if (ns !== NS.HTML) {\n                continue;\n            }\n            if (tn === tagName) {\n                return true;\n            }\n            if (tn === $.TABLE || tn === $.TEMPLATE || tn === $.HTML) {\n                return false;\n            }\n        }\n        return true;\n    }\n    hasTableBodyContextInTableScope() {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.tagIDs[i];\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n            if (ns !== NS.HTML) {\n                continue;\n            }\n            if (tn === $.TBODY || tn === $.THEAD || tn === $.TFOOT) {\n                return true;\n            }\n            if (tn === $.TABLE || tn === $.HTML) {\n                return false;\n            }\n        }\n        return true;\n    }\n    hasInSelectScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.tagIDs[i];\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n            if (ns !== NS.HTML) {\n                continue;\n            }\n            if (tn === tagName) {\n                return true;\n            }\n            if (tn !== $.OPTION && tn !== $.OPTGROUP) {\n                return false;\n            }\n        }\n        return true;\n    }\n    //Implied end tags\n    generateImpliedEndTags() {\n        while (IMPLICIT_END_TAG_REQUIRED.has(this.currentTagId)) {\n            this.pop();\n        }\n    }\n    generateImpliedEndTagsThoroughly() {\n        while (IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId)) {\n            this.pop();\n        }\n    }\n    generateImpliedEndTagsWithExclusion(exclusionId) {\n        while (this.currentTagId !== exclusionId && IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId)) {\n            this.pop();\n        }\n    }\n}\n//# sourceMappingURL=open-element-stack.js.map"],"mappings":"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"},"metadata":{},"sourceType":"module"}